(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{J9Es:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var r=o("3Pt+"),i=o("fXoL"),n=o("tyNb"),s=o("oH4b");let l=(()=>{class e{constructor(e,t,o){var i,n;this.router=e,this.fb=t,this.employeesService=o;const s=this.router.getCurrentNavigation();this.employee=null===(n=null===(i=s.extras)||void 0===i?void 0:i.state)||void 0===n?void 0:n.value,this.employeeForm=this.fb.group({name:["",[r.h.required]],lastname:["",[r.h.required]],email:["",[r.h.required]],startdate:["",[r.h.required]]})}ngOnInit(){void 0===this.employee?this.router.navigate(["new"]):this.employeeForm.patchValue(this.employee)}onSave(){var e;if(this.employeeForm.valid){const t=(null===(e=this.employee)||void 0===e?void 0:e.id)||null;this.employeesService.onSaveEmployee(this.employeeForm.value,t),this.employeeForm.reset(),alert("A\xf1adido con \xe9xito")}}onBack(){this.router.navigate(["list"])}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(n.a),i.Kb(r.b),i.Kb(s.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-employee-form"]],decls:14,vars:1,consts:[[1,"mt-3","col-md-8","offset-md-2",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],["type","text","placeholder","name","formControlName","name",1,"form-control"],["type","text","placeholder","last name","formControlName","lastname",1,"form-control"],["type","email","placeholder","email","formControlName","email",1,"form-control"],["type","text","placeholder","start date","formControlName","startdate",1,"form-control"],["type","submit",1,"btn","btn-block","bg-dark","text-light"],[1,"btn","btn-outline-secondary","mt-2",3,"click"]],template:function(e,t){1&e&&(i.Nb(0,"form",0),i.Ub("ngSubmit",function(){return t.onSave()}),i.Nb(1,"div",1),i.Nb(2,"div",2),i.Lb(3,"input",3),i.Mb(),i.Nb(4,"div",2),i.Lb(5,"input",4),i.Mb(),i.Mb(),i.Nb(6,"div",1),i.Nb(7,"div",2),i.Lb(8,"input",5),i.Mb(),i.Nb(9,"div",2),i.Lb(10,"input",6),i.Mb(),i.Mb(),i.Lb(11,"input",7),i.Mb(),i.Nb(12,"button",8),i.Ub("click",function(){return t.onBack()}),i.gc(13,"Back"),i.Mb()),2&e&&i.Zb("formGroup",t.employeeForm)},directives:[r.i,r.f,r.d,r.a,r.e,r.c],styles:[""]}),e})()},oH4b:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var r=o("mrSG"),i=o("lJxs"),n=o("fXoL"),s=o("I/3d");let l=(()=>{class e{constructor(e){this.afs=e,this.employeesCollection=e.collection("employees"),this.getEmployees()}getEmployees(){this.employees=this.employeesCollection.snapshotChanges().pipe(Object(i.a)(e=>e.map(e=>e.payload.doc.data())))}onDeleteEmployee(e){return new Promise((t,o)=>Object(r.b)(this,void 0,void 0,function*(){try{const o=this.employeesCollection.doc(e).delete();t(o)}catch(r){o(r.message)}}))}onSaveEmployee(e,t){return new Promise((o,i)=>Object(r.b)(this,void 0,void 0,function*(){try{const r=t||this.afs.createId(),i=Object.assign({id:r},e),n=this.employeesCollection.doc(r).set(i);o(n)}catch(r){i(r.message)}}))}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(s.a))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);